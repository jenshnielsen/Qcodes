<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="482px" preserveAspectRatio="none" style="width:691px;height:482px;" version="1.1" viewBox="0 0 691 482" width="691px" zoomAndPan="magnify"><defs><filter height="300%" id="f1h5549924m52x" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1h5549924m52x)" height="134.5527" style="stroke: #000000; stroke-width: 2.0;" width="552.5" x="13" y="202.041"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="70" x2="70" y1="38.4883" y2="441.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="336" x2="336" y1="38.4883" y2="441.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="511.5" x2="511.5" y1="38.4883" y2="441.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="624.5" x2="624.5" y1="38.4883" y2="441.5254"/><rect fill="#FEFECE" filter="url(#f1h5549924m52x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="30" y="23.5352">AlazarCard</text><rect fill="#FEFECE" filter="url(#f1h5549924m52x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="23" y="440.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="30" y="461.0605">AlazarCard</text><rect fill="#FEFECE" filter="url(#f1h5549924m52x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="307" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="314" y="23.5352">Driver</text><rect fill="#FEFECE" filter="url(#f1h5549924m52x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="307" y="440.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="314" y="461.0605">Driver</text><rect fill="#FEFECE" filter="url(#f1h5549924m52x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="467.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="474.5" y="23.5352">Controller</text><rect fill="#FEFECE" filter="url(#f1h5549924m52x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="467.5" y="440.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="474.5" y="461.0605">Controller</text><rect fill="#FEFECE" filter="url(#f1h5549924m52x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="565.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="572.5" y="23.5352">DataParameter</text><rect fill="#FEFECE" filter="url(#f1h5549924m52x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="565.5" y="440.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="572.5" y="461.0605">DataParameter</text><polygon fill="#A80036" points="347.5,65.7988,337.5,69.7988,347.5,73.7988,343.5,69.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="341.5" x2="624" y1="69.7988" y2="69.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="353.5" y="65.0566">get() calls 'acquire'</text><polygon fill="#A80036" points="81.5,95.1094,71.5,99.1094,81.5,103.1094,77.5,99.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="335.5" y1="99.1094" y2="99.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="87.5" y="94.3672">Calls 'AlazarPostAyncBuffers'</text><polygon fill="#A80036" points="499.5,124.4199,509.5,128.4199,499.5,132.4199,503.5,128.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="505.5" y1="128.4199" y2="128.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="343.5" y="123.6777">Calls 'pre_start_capture'</text><polygon fill="#A80036" points="81.5,153.7305,71.5,157.7305,81.5,161.7305,77.5,157.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="335.5" y1="157.7305" y2="157.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="87.5" y="152.9883">Calls 'AlazarStartCapture'</text><polygon fill="#A80036" points="499.5,183.041,509.5,187.041,499.5,191.041,503.5,187.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="505.5" y1="187.041" y2="187.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="343.5" y="182.2988">Calls 'pre_acquire'</text><path d="M13,202.041 L87,202.041 L87,209.041 L77,219.041 L13,219.041 L13,202.041 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="134.5527" style="stroke: #000000; stroke-width: 2.0;" width="552.5" x="13" y="202.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="28" y="215.6094">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="234" x="102" y="214.6758">[until requested number of buffers filled]</text><polygon fill="#A80036" points="81.5,236.6621,71.5,240.6621,81.5,244.6621,77.5,240.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="335.5" y1="240.6621" y2="240.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="87.5" y="235.9199">Calls 'AlazarWaitAsyncBufferComplete'</text><polygon fill="#A80036" points="324.5,265.9727,334.5,269.9727,324.5,273.9727,328.5,269.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70.5" x2="330.5" y1="269.9727" y2="269.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="77.5" y="265.2305">Returns Buffer with data</text><polygon fill="#A80036" points="499.5,295.2832,509.5,299.2832,499.5,303.2832,503.5,299.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="505.5" y1="299.2832" y2="299.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="343.5" y="294.541">Calls 'handle_buffer'</text><polygon fill="#A80036" points="81.5,324.5938,71.5,328.5938,81.5,332.5938,77.5,328.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="335.5" y1="328.5938" y2="328.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="87.5" y="323.8516">Calls 'AlazarPostAsyncBuffer'</text><polygon fill="#A80036" points="81.5,360.9043,71.5,364.9043,81.5,368.9043,77.5,364.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="335.5" y1="364.9043" y2="364.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="87.5" y="360.1621">Call 'AlazarAbortAsyncRead'</text><polygon fill="#A80036" points="499.5,390.2148,509.5,394.2148,499.5,398.2148,503.5,394.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="505.5" y1="394.2148" y2="394.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="343.5" y="389.4727">Call 'post_acquire'</text><polygon fill="#A80036" points="613,419.5254,623,423.5254,613,427.5254,617,423.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="336.5" x2="619" y1="423.5254" y2="423.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="343.5" y="418.7832">Returns output of 'post_acquire'</text><!--
@startuml
participant AlazarCard
participant Driver
participant Controller
participant DataParameter

DataParameter - -> Driver: get() calls 'acquire'
Driver -> AlazarCard: Calls 'AlazarPostAyncBuffers'
Driver -> Controller: Calls 'pre_start_capture'
Driver -> AlazarCard: Calls 'AlazarStartCapture'
Driver -> Controller: Calls 'pre_acquire'
loop until requested number of buffers filled
    Driver -> AlazarCard: Calls 'AlazarWaitAsyncBufferComplete'
    AlazarCard -> Driver: Returns Buffer with data
    Driver -> Controller: Calls 'handle_buffer'
    Driver -> AlazarCard: Calls 'AlazarPostAsyncBuffer'
end

Driver -> AlazarCard: Call 'AlazarAbortAsyncRead'
Driver -> Controller: Call 'post_acquire'
Driver -> DataParameter: Returns output of 'post_acquire'


@enduml

PlantUML version 1.2018.03(Thu Apr 05 18:59:15 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Mac OS X
OS Version: 10.13.4
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>